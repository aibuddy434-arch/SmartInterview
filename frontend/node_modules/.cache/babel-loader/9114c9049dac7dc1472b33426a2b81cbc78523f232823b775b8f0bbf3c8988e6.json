{"ast":null,"code":"import publicApi from './publicApi';\nexport const publicInterviewService = {\n  // Get public interview configuration\n  async getPublicInterview(interviewId) {\n    try {\n      const response = await publicApi.get(`/public/interview/${interviewId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Register candidate for interview\n  async registerCandidate(interviewId, candidateData) {\n    try {\n      const response = await publicApi.post(`/public/interview/${interviewId}/register`, candidateData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Start interview session\n\n  // Start interview session\n  async startSession(sessionId) {\n    // Parameter is now sessionId\n    try {\n      // The backend route is /session/{session_id}/start and doesn't need a request body.\n      const response = await publicApi.post(`/public/session/${sessionId}/start`); // URL is now correct\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Get session details\n  async getSession(sessionId) {\n    try {\n      const response = await publicApi.get(`/public/session/${sessionId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Submit response\n  async submitResponse(sessionId, questionNumber, responseData) {\n    try {\n      const formData = new FormData();\n      formData.append('question_number', questionNumber);\n      if (responseData.response_text) {\n        formData.append('response_text', responseData.response_text);\n      }\n      if (responseData.audio_file) {\n        formData.append('audio_file', responseData.audio_file);\n      }\n      if (responseData.video_file) {\n        formData.append('video_file', responseData.video_file);\n      }\n      const response = await publicApi.post(`/public/session/${sessionId}/submit-response`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Complete session\n  async completeSession(sessionId) {\n    try {\n      const response = await publicApi.post(`/public/session/${sessionId}/complete`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Get session responses\n  async getSessionResponses(sessionId) {\n    try {\n      const response = await publicApi.get(`/public/session/${sessionId}/responses`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["publicApi","publicInterviewService","getPublicInterview","interviewId","response","get","data","error","registerCandidate","candidateData","post","startSession","sessionId","getSession","submitResponse","questionNumber","responseData","formData","FormData","append","response_text","audio_file","video_file","headers","completeSession","getSessionResponses"],"sources":["D:/ai_avatar/frontend/src/services/publicInterviewService.js"],"sourcesContent":["import publicApi from './publicApi';\r\n\r\nexport const publicInterviewService = {\r\n  // Get public interview configuration\r\n  async getPublicInterview(interviewId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/interview/${interviewId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Register candidate for interview\r\n  async registerCandidate(interviewId, candidateData) {\r\n    try {\r\n      const response = await publicApi.post(`/public/interview/${interviewId}/register`, candidateData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Start interview session\r\n\r\n\r\n// Start interview session\r\nasync startSession(sessionId) { // Parameter is now sessionId\r\n  try {\r\n    // The backend route is /session/{session_id}/start and doesn't need a request body.\r\n    const response = await publicApi.post(`/public/session/${sessionId}/start`); // URL is now correct\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n},\r\n\r\n  // Get session details\r\n  async getSession(sessionId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/session/${sessionId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Submit response\r\n  async submitResponse(sessionId, questionNumber, responseData) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('question_number', questionNumber);\r\n      \r\n      if (responseData.response_text) {\r\n        formData.append('response_text', responseData.response_text);\r\n      }\r\n      \r\n      if (responseData.audio_file) {\r\n        formData.append('audio_file', responseData.audio_file);\r\n      }\r\n      \r\n      if (responseData.video_file) {\r\n        formData.append('video_file', responseData.video_file);\r\n      }\r\n\r\n      const response = await publicApi.post(`/public/session/${sessionId}/submit-response`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Complete session\r\n  async completeSession(sessionId) {\r\n    try {\r\n      const response = await publicApi.post(`/public/session/${sessionId}/complete`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get session responses\r\n  async getSessionResponses(sessionId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/session/${sessionId}/responses`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}