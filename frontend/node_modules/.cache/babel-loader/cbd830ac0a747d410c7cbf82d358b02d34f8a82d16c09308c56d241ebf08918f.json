{"ast":null,"code":"import publicApi from './publicApi';\nexport const publicInterviewService = {\n  // Get public interview configuration\n  async getPublicInterview(interviewId) {\n    try {\n      const response = await publicApi.get(`/public/interview/${interviewId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Register candidate for interview\n  async registerCandidate(interviewId, candidateData) {\n    try {\n      const response = await publicApi.post(`/public/interview/${interviewId}/register`, candidateData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Start interview session\n\n  // Start interview session\n  async startSession(sessionId) {\n    // Parameter is now sessionId\n    try {\n      // The backend route is /session/{session_id}/start and doesn't need a request body.\n      const response = await publicApi.post(`/public/session/${sessionId}/start`); // URL is now correct\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Get session details\n  async getSession(sessionId) {\n    try {\n      const response = await publicApi.get(`/public/session/${sessionId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Replace the existing submitResponse function with this one\n\n  // Submit response\n  async submitResponse(sessionId, formData) {\n    // Corrected: Accepts sessionId and formData\n    try {\n      // The formData already contains question_number and audio_file\n      // The backend route is /public/session/{session_id}/submit-response\n      const response = await publicApi.post(`/public/session/${sessionId}/submit-response`, formData, {\n        headers: {\n          // Content-Type is set automatically by browser for FormData\n          // 'Content-Type': 'multipart/form-data', \n        }\n      });\n      return response.data; // Return the parsed JSON response from the backend\n    } catch (error) {\n      console.error(\"Error in submitResponse service:\", error);\n      // Rethrow the error so the component's catch block can handle it\n      // This allows PublicInterview.js to show the toast message\n      throw error;\n    }\n  },\n  // Complete session\n  async completeSession(sessionId) {\n    try {\n      const response = await publicApi.post(`/public/session/${sessionId}/complete`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  // Get session responses\n  async getSessionResponses(sessionId) {\n    try {\n      const response = await publicApi.get(`/public/session/${sessionId}/responses`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["publicApi","publicInterviewService","getPublicInterview","interviewId","response","get","data","error","registerCandidate","candidateData","post","startSession","sessionId","getSession","submitResponse","formData","headers","console","completeSession","getSessionResponses"],"sources":["D:/ai_avatar/frontend/src/services/publicInterviewService.js"],"sourcesContent":["import publicApi from './publicApi';\r\n\r\nexport const publicInterviewService = {\r\n  // Get public interview configuration\r\n  async getPublicInterview(interviewId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/interview/${interviewId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Register candidate for interview\r\n  async registerCandidate(interviewId, candidateData) {\r\n    try {\r\n      const response = await publicApi.post(`/public/interview/${interviewId}/register`, candidateData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Start interview session\r\n\r\n\r\n// Start interview session\r\nasync startSession(sessionId) { // Parameter is now sessionId\r\n  try {\r\n    // The backend route is /session/{session_id}/start and doesn't need a request body.\r\n    const response = await publicApi.post(`/public/session/${sessionId}/start`); // URL is now correct\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n},\r\n\r\n  // Get session details\r\n  async getSession(sessionId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/session/${sessionId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n// Replace the existing submitResponse function with this one\r\n\r\n  // Submit response\r\n  async submitResponse(sessionId, formData) { // Corrected: Accepts sessionId and formData\r\n    try {\r\n      // The formData already contains question_number and audio_file\r\n      // The backend route is /public/session/{session_id}/submit-response\r\n      const response = await publicApi.post(`/public/session/${sessionId}/submit-response`, formData, {\r\n        headers: {\r\n          // Content-Type is set automatically by browser for FormData\r\n          // 'Content-Type': 'multipart/form-data', \r\n        },\r\n      });\r\n      return response.data; // Return the parsed JSON response from the backend\r\n    } catch (error) {\r\n       console.error(\"Error in submitResponse service:\", error);\r\n       // Rethrow the error so the component's catch block can handle it\r\n       // This allows PublicInterview.js to show the toast message\r\n       throw error; \r\n    }\r\n  },\r\n\r\n  // Complete session\r\n  async completeSession(sessionId) {\r\n    try {\r\n      const response = await publicApi.post(`/public/session/${sessionId}/complete`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get session responses\r\n  async getSessionResponses(sessionId) {\r\n    try {\r\n      const response = await publicApi.get(`/public/session/${sessionId}/responses`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,aAAa;AAEnC,OAAO,MAAMC,sBAAsB,GAAG;EACpC;EACA,MAAMC,kBAAkBA,CAACC,WAAW,EAAE;IACpC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMJ,SAAS,CAACK,GAAG,CAAC,qBAAqBF,WAAW,EAAE,CAAC;MACxE,OAAOC,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAMC,iBAAiBA,CAACL,WAAW,EAAEM,aAAa,EAAE;IAClD,IAAI;MACF,MAAML,QAAQ,GAAG,MAAMJ,SAAS,CAACU,IAAI,CAAC,qBAAqBP,WAAW,WAAW,EAAEM,aAAa,CAAC;MACjG,OAAOL,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED;;EAGF;EACA,MAAMI,YAAYA,CAACC,SAAS,EAAE;IAAE;IAC9B,IAAI;MACF;MACA,MAAMR,QAAQ,GAAG,MAAMJ,SAAS,CAACU,IAAI,CAAC,mBAAmBE,SAAS,QAAQ,CAAC,CAAC,CAAC;MAC7E,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAEC;EACA,MAAMM,UAAUA,CAACD,SAAS,EAAE;IAC1B,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMJ,SAAS,CAACK,GAAG,CAAC,mBAAmBO,SAAS,EAAE,CAAC;MACpE,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAEH;;EAEE;EACA,MAAMO,cAAcA,CAACF,SAAS,EAAEG,QAAQ,EAAE;IAAE;IAC1C,IAAI;MACF;MACA;MACA,MAAMX,QAAQ,GAAG,MAAMJ,SAAS,CAACU,IAAI,CAAC,mBAAmBE,SAAS,kBAAkB,EAAEG,QAAQ,EAAE;QAC9FC,OAAO,EAAE;UACP;UACA;QAAA;MAEJ,CAAC,CAAC;MACF,OAAOZ,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACbU,OAAO,CAACV,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD;MACA;MACA,MAAMA,KAAK;IACd;EACF,CAAC;EAED;EACA,MAAMW,eAAeA,CAACN,SAAS,EAAE;IAC/B,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMJ,SAAS,CAACU,IAAI,CAAC,mBAAmBE,SAAS,WAAW,CAAC;MAC9E,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACA,MAAMY,mBAAmBA,CAACP,SAAS,EAAE;IACnC,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMJ,SAAS,CAACK,GAAG,CAAC,mBAAmBO,SAAS,YAAY,CAAC;MAC9E,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}